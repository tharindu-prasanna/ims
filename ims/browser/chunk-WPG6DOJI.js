import{a as de,b as ce}from"./chunk-NEDURDK5.js";import{c as A,d as ae,g as se,j as me,k as pe}from"./chunk-ZTY3N64Q.js";import{b as X,e as Z,f as ee,g as te,h as I,j as ie,k as ne,l as re,n as oe,o as M,p as le}from"./chunk-YPAZ5YN4.js";import{a as q,b as z}from"./chunk-OEBJFCBM.js";import"./chunk-7RKSVCTK.js";import{f as b,j as C,m as K,p as w,q as Y,t as J,u as E,v as W}from"./chunk-PHRS766U.js";import{Aa as u,C as h,D as N,Fa as _,H as g,I as x,Oa as j,Qa as B,Sa as P,Ta as O,Va as G,Y as s,Z as f,cb as H,fa as d,ib as L,jb as Q,la as F,ma as e,na as t,oa as l,sa as k,ua as y,va as S,vb as $,wb as U,y as T,ya as D,yb as V,za as r}from"./chunk-6SFOHSVE.js";var be=()=>["Active","Inactive"],he=(()=>{let i=class i{constructor(a,n){this.confirmationService=a,this.messageService=n,this.designations=[{code:"CIR",name:"Commissioner of Inland Revenue"},{code:"DCIR",name:"Deputy Commissioner of Inland Revenue"},{code:"SDCIR",name:"Senior Deputy Commissioner of Inland Revenue"},{code:"ACIR",name:"Assistant Commissioner of Inland Revenue"},{code:"MSO",name:"Management Service Officer"}],this.roles=["Operator","Subject Officer","Commissioner","Administrator"]}addUser(a){this.confirmationService.confirm({target:a.target,message:"Are you sure to add this user?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({closable:!1,life:6e3,icon:"pi pi-check",severity:"success",summary:"User added"})}})}};i.\u0275fac=function(n){return new(n||i)(f(b),f(C))},i.\u0275cmp=h({type:i,selectors:[["app-add-user"]],decls:30,vars:6,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"grid","p-fluid","mt-3"],[1,"field","col-12","md:col-3"],[1,"p-float-label"],["type","text","id","empNo","pInputText",""],["inputId","userRole",3,"autoDisplayFirst","options"],["type","text","id","password","placeholder","default is 12345678","pInputText",""],["inputId","status",3,"autoDisplayFirst","options"],[1,"block","md:flex","md:justify-content-end"],["styleClass","justify-content-center w-full md:w-fit","pRipple","","label","Add User","icon","pi pi-plus",3,"raised","click"]],template:function(n,p){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),r(4,"Add New User"),t(),e(5,"p"),r(6,"Please provide the necessary information to add a new user."),t(),e(7,"div",3)(8,"div",4)(9,"span",5),l(10,"input",6),e(11,"label"),r(12,"Employee number"),t()()(),e(13,"div",4)(14,"span",5),l(15,"p-dropdown",7),e(16,"label"),r(17,"User role"),t()()(),e(18,"div",4)(19,"span",5),l(20,"input",8),e(21,"label"),r(22,"Initial password"),t()()(),e(23,"div",4)(24,"span",5),l(25,"p-dropdown",9),e(26,"label"),r(27,"User active status"),t()()()(),e(28,"div",10)(29,"p-button",11),y("click",function(v){return p.addUser(v)}),t()()()()()),n&2&&(s(15),d("autoDisplayFirst",!1)("options",p.roles),s(10),d("autoDisplayFirst",!1)("options",_(5,be)),s(4),d("raised",!0))},dependencies:[M,A,E,w]});let o=i;return o})();var we=["filter"];function Ee(o,i){if(o&1){let m=k();e(0,"div",13)(1,"button",14),y("click",function(){g(m);let n=S(),p=D(12);return x(n.clear(p))}),t(),e(2,"span",15),l(3,"i",16),e(4,"input",17,18),y("input",function(n){g(m);let p=S(),c=D(12);return x(p.onGlobalFilter(c,n))}),t()()()}}function Ie(o,i){o&1&&(e(0,"tr")(1,"th",19)(2,"div",20),r(3," Employee No. "),l(4,"p-columnFilter",21),t()(),e(5,"th",22)(6,"div",20),r(7," Employee Name "),l(8,"p-columnFilter",23),t()(),e(9,"th",24)(10,"div",20),r(11," Designation "),l(12,"p-columnFilter",25),t()(),e(13,"th",26)(14,"div",20),r(15," Email Address "),l(16,"p-columnFilter",27),t()(),e(17,"th",24)(18,"div",20),r(19," Phone "),l(20,"p-columnFilter",28),t()(),e(21,"th",24)(22,"div",20),r(23," User Role "),l(24,"p-columnFilter",29),t()(),e(25,"th",30)(26,"div",20),r(27," Created At "),l(28,"p-columnFilter",31),t()(),e(29,"th",30)(30,"div",20),r(31," Created By "),l(32,"p-columnFilter",32),t()(),e(33,"th",30)(34,"div",20),r(35," Updated At "),l(36,"p-columnFilter",33),t()(),e(37,"th",30)(38,"div",20),r(39," Updated By "),l(40,"p-columnFilter",34),t()(),e(41,"th",24)(42,"div",20),r(43," Status "),l(44,"p-columnFilter",35),t()(),e(45,"th",36)(46,"div",37),r(47,"Actions"),t()()())}function Me(o,i){o&1&&(e(0,"span",37),l(1,"p-tag",44),t())}function Te(o,i){o&1&&(e(0,"span",37),l(1,"p-tag",45),t())}function Ne(o,i){if(o&1){let m=k();e(0,"tr")(1,"td")(2,"span",38),r(3),t()(),e(4,"td"),r(5),t(),e(6,"td")(7,"span",38),r(8),t()(),e(9,"td"),r(10),t(),e(11,"td")(12,"span",38),r(13),t()(),e(14,"td")(15,"span",38),r(16),t()(),e(17,"td")(18,"span",38),r(19),j(20,"date"),t()(),e(21,"td")(22,"span",38),r(23),t()(),e(24,"td")(25,"span",38),r(26),j(27,"date"),t()(),e(28,"td")(29,"span",38),r(30),t()(),e(31,"td"),F(32,Me,2,0,"span",39)(33,Te,2,0,"span",39),t(),e(34,"td")(35,"div",40)(36,"p-button",41),y("click",function(n){let c=g(m).$implicit,v=S();return x(v.onPasswordReset(n,c.empNo))}),t(),e(37,"p-button",42),y("click",function(n){let c=g(m).$implicit,v=S();return x(v.onEdit(n,c.empNo))}),t(),e(38,"p-button",43),y("click",function(n){let c=g(m).$implicit,v=S();return x(v.onDelete(n,c.empNo))}),t()()()()}if(o&2){let m=i.$implicit;s(3),u(m.empNo),s(2),u(m.empName),s(3),u(m.designation),s(2),u(m.email),s(3),u(m.phone),s(3),u(m.userRole),s(3),u(B(20,18,m.createdAt,"yyyy/MM/dd")),s(4),u(m.createdBy),s(3),u(B(27,21,m.updatedAt,"yyyy/MM/dd")),s(4),u(m.updatedBy),s(2),d("ngIf",m.status==="Active"),s(1),d("ngIf",m.status==="Inactive"),s(3),d("rounded",!0)("text",!0),s(1),d("rounded",!0)("text",!0),s(1),d("rounded",!0)("text",!0)}}function Ue(o,i){o&1&&(e(0,"tr")(1,"td",46),r(2,"No users found."),t()())}function Ae(o,i){o&1&&(e(0,"tr")(1,"td",46),r(2,"Loading users. Please wait."),t()())}var Re=()=>["empNo","empName","designation","email","phone","userRole","status","createdAt","createdBy","updatedAt","updatedBy"],ge=(()=>{let i=class i{constructor(a,n,p){this.router=a,this.confirmationService=n,this.messageService=p}ngOnInit(){this.users=[{empNo:"U00980",empName:"E.I.U. Silva",designation:"MSO",email:"silva.eiu@ird.gov.lk",phone:"0123456789",userRole:"Administrator",status:"Active",createdAt:"11/16/2023",createdBy:"U10200",updatedAt:"11/18/2023",updatedBy:"U10100"},{empNo:"U10280",empName:"H.M.T.P. Herath",designation:"AD (IT)",email:"herath.hmtp@ird.gov.lk",phone:"0123456789",userRole:"Administrator",status:"Inactive",createdAt:"11/18/2023",createdBy:"U10100",updatedAt:"11/21/2023",updatedBy:"U10140"}]}onGlobalFilter(a,n){a.filterGlobal(n.target.value,"contains")}clear(a){a.clear(),this.filter.nativeElement.value=""}onPasswordReset(a,n){this.confirmationService.confirm({target:a.target,message:"Are you sure to reset password?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({closable:!1,life:6e3,icon:"pi pi-check",severity:"success",summary:"Password reset to default"})}})}onEdit(a,n){this.router.navigate(["users/edit-user",n])}onDelete(a,n){this.confirmationService.confirm({target:a.target,message:"Are you sure to delete this user?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({closable:!1,life:6e3,icon:"pi pi-check",severity:"success",summary:"User deleted"})}})}};i.\u0275fac=function(n){return new(n||i)(f($),f(b),f(C))},i.\u0275cmp=h({type:i,selectors:[["app-manage-users"]],viewQuery:function(n,p){if(n&1&&O(we,5),n&2){let c;P(c=G())&&(p.filter=c.first)}},decls:18,vars:8,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"md:flex","md:justify-content-between","mb-3"],[1,"mb-3","md:mb-0"],["styleClass","justify-content-center w-full md:w-fit","pRipple","","label","Add New User","icon","pi pi-plus","routerLink","/users/add",3,"raised"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Keyword",1,"w-full",3,"input"],["filter",""],[2,"min-width","8rem"],[1,"flex","justify-content-between","align-items-center"],["type","text","field","empNo","display","menu","placeholder","Search by employee no."],[2,"min-width","14rem"],["type","text","field","empName","display","menu","placeholder","Search by employee name"],[2,"min-width","6rem"],["type","text","field","designation","display","menu","placeholder","Search by designation"],[2,"min-width","10rem"],["type","text","field","email","display","menu","placeholder","Search by email"],["type","text","field","phone","display","menu","placeholder","Search by phone"],["type","text","field","userRole","display","menu","placeholder","Search by user role"],[2,"min-width","9rem"],["type","date","field","createdAt","display","menu","placeholder","mm/dd/yyyy"],["type","text","field","createdBy","display","menu","placeholder","Search by user created by"],["type","date","field","updatedAt","display","menu","placeholder","mm/dd/yyyy"],["type","text","field","updatedBy","display","menu","placeholder","Search by user updated by"],["type","text","field","status","display","menu","placeholder","Search by status"],[2,"min-width","11rem"],[1,"flex","justify-content-center","align-items-center"],[1,"flex","justify-content-center"],["class","flex justify-content-center align-items-center",4,"ngIf"],[1,"flex","flex-wrap","gap-2","justify-content-center","align-items-center"],["pRipple","","severity","help","icon","pi pi-refresh","pTooltip","Reset user password","tooltipPosition","top",3,"rounded","text","click"],["pRipple","","icon","pi pi-pencil","pTooltip","Edit user details","tooltipPosition","top",3,"rounded","text","click"],["pRipple","","severity","danger","icon","pi pi-trash","pTooltip","Delete user","tooltipPosition","top",3,"rounded","text","click"],["severity","success","value","Active"],["severity","danger","value","Inactive"],["colspan","12"]],template:function(n,p){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h5"),r(6,"Manage Users"),t(),e(7,"p",4),r(8,"You can view, search, and edit user details through this page."),t()(),e(9,"div"),l(10,"p-button",5),t()(),e(11,"p-table",6,7),F(13,Ee,6,0,"ng-template",8)(14,Ie,48,0,"ng-template",9)(15,Ne,39,24,"ng-template",10)(16,Ue,3,0,"ng-template",11)(17,Ae,3,0,"ng-template",12),t()()()()),n&2&&(s(10),d("raised",!0),s(1),d("value",p.users)("rows",10)("loading",!1)("rowHover",!0)("paginator",!0)("globalFilterFields",_(7,Re)))},dependencies:[H,U,M,K,J,E,w,q,se,me,de,L]});let o=i;return o})();var Fe=()=>["Active","Inactive"],xe=(()=>{let i=class i{constructor(a,n){this.confirmationService=a,this.messageService=n,this.userRecordForm=new te({empNo:new I({value:"",disabled:!0}),empName:new I({value:"",disabled:!0}),designation:new I({value:"",disabled:!0}),userRole:new I({value:"",disabled:!0}),status:new I("")}),this.roles=["Operator","Subject Officer","Commissioner","Administrator"],this.status=["Active","Inactive"]}confirm(a){this.confirmationService.confirm({target:a.target,message:"Are you sure to update this user?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({closable:!1,life:6e3,icon:"pi pi-check",severity:"success",summary:"User updated"})}})}ngOnInit(){this.user={empNo:"U10280",empName:"H.M.T.P. Herath",designation:"Assistant Director (IT)",email:"herath.hmtp@ird.gov.lk",phone:"0123456789",userRole:"Administrator",status:"Active",createdAt:"11/16/2023",createdBy:"U10200",updatedAt:"11/18/2023",updatedBy:"U10100"},this.userRecordForm.patchValue({empNo:this.user.empNo,empName:this.user.empName,designation:this.user.designation,email:this.user.email,phone:this.user.phone,userRole:this.user.userRole,status:this.user.status})}};i.\u0275fac=function(n){return new(n||i)(f(b),f(C))},i.\u0275cmp=h({type:i,selectors:[["app-edit-user"]],decls:37,vars:6,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[3,"formGroup"],[1,"grid","p-fluid","mt-3"],[1,"field","col-12","md:col-2"],[1,"p-float-label"],["type","text","formControlName","empNo","pInputText",""],[1,"field","col-12","md:col-3"],["type","text","formControlName","empName","pInputText",""],["type","text","formControlName","designation","pInputText",""],["type","text","formControlName","userRole","pInputText",""],["formControlName","status",3,"autoDisplayFirst","options"],[1,"block","md:flex","md:justify-content-between"],["styleClass","justify-content-center w-full md:w-8rem mb-3 md:mb-0","pRipple","","label","Back","icon","pi pi-arrow-left","routerLink","/users/manage",1,"block",3,"raised"],["styleClass","justify-content-center w-full md:w-9rem","severity","success","pRipple","","label","Update User","icon","pi pi-sync",1,"block",3,"raised","click"]],template:function(n,p){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),r(4,"Edit User"),t(),e(5,"p"),r(6,"You can edit user details through this page."),t(),e(7,"form",3)(8,"div",4)(9,"div",5)(10,"span",6),l(11,"input",7),e(12,"label"),r(13,"Employee No."),t()()(),e(14,"div",8)(15,"span",6),l(16,"input",9),e(17,"label"),r(18,"Name with Initials"),t()()(),e(19,"div",8)(20,"span",6),l(21,"input",10),e(22,"label"),r(23,"Designation"),t()()(),e(24,"div",5)(25,"span",6),l(26,"input",11),e(27,"label"),r(28,"User Role"),t()()(),e(29,"div",5)(30,"span",6),l(31,"p-dropdown",12),e(32,"label"),r(33,"Active status"),t()()()()(),e(34,"div",13),l(35,"p-button",14),e(36,"p-button",15),y("click",function(v){return p.confirm(v)}),t()()()()()),n&2&&(s(7),d("formGroup",p.userRecordForm),s(24),d("autoDisplayFirst",!1)("options",_(5,Fe)),s(4),d("raised",!0),s(1),d("raised",!0))},dependencies:[U,M,A,E,w,ie,X,Z,ee,ne,re],styles:[".p-disabled[_ngcontent-%COMP%], .p-component[_ngcontent-%COMP%]:disabled{opacity:.8!important}"]});let o=i;return o})();var ke=[{path:"add",component:he},{path:"manage",component:ge},{path:"edit-user/:id",component:xe}],Se=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=N({type:i}),i.\u0275inj=T({imports:[V.forChild(ke),V]});let o=i;return o})();var dt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=N({type:i}),i.\u0275inj=T({imports:[Q,Se,le,ae,W,Y,z,pe,ce,oe]});let o=i;return o})();export{dt as UsersModule};
